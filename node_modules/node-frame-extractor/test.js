/*var AWS = require('aws-sdk');

var creds = new AWS.Credentials();
var credentials = new AWS.SharedIniFileCredentials({profile: 'default'});

creds.get(function (err) {

	if (err) {

		console.log("Something went wrong...");
		console.log(err);
	}

	var key = credentials.secretAccessKey;

	console.log(creds);
	console.log(credentials);
	console.log(AWS.config.credentials);
	console.log(key.toString());
});*/

var Extractor = require('./lib/extract-frames'),
	util = require('util');

var inst = new Extractor({

	inputVideo: './playground/trim.mp4',
	adjecentFrames: 2,
	mode: 'list',
	s3Bucket: 'ingrain.spots.frames',
	pushToCloud: true,
	awsRegion: 'us-west-2',
	awsProfile: 'default'
});

console.log(util.inspect(inst, { colors: true}));

inst.extract([250, 333, 432, 456, 502], function (err, result) {

	if (err) {
		console.error(err);
	} else {

		console.log(util.inspect(result));

		inst.pushToCloud(function (err) {

			if (err) {
				console.error(err);
			}
		});
	}
});